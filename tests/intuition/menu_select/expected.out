Testing menu bar interaction and selection...

--- Test 1: Open screen and window with menus ---
OK: Screen opened
  BarHeight=10
OK: Window opened

--- Test 2: Setup menu structure ---
OK: SetMenuStrip() succeeded
OK: window->MenuStrip correctly set

--- Test 3: Simulate menu selection via right-click ---
  Menu bar click X=35
  Menu bar click Y=5
  Menu item click X=50
  Menu item click Y=16
  Received IDCMP class=0x0008
  Received IDCMP class=0x0100
OK: Received IDCMP_MENUPICK
  Menu code=0x0000
  MENUNUM=0
  ITEMNUM=0
  SUBNUM=0
OK: Correct menu item selected (File->Open)
  Received IDCMP class=0x0008

--- Test 4: Verify menu encoding macros ---
OK: FULLMENUNUM(1,2,NOSUB) encodes/decodes correctly
OK: MENUNUM(MENUNULL) returns NOMENU

--- Test 5: Cleanup ---
OK: ClearMenuStrip() called
OK: Window closed
OK: Screen closed

PASS: menu_select tests completed
